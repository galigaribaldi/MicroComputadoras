 3
 1
 4
002  003  dim
001  002  x1
002  002  as
002  006  string
 4
 1
 4
002  003  dim
001  003  ren
002  002  as
002  004  byte
 5
 1
 4
002  003  dim
001  003  col
002  002  as
002  004  byte
 8
 1
 1
002  006  iniens
 9
 1
 3
002  004  main
001  003  equ
000  005  $804a
 10
 1
 3
001  014  printlcd16x2sh
001  003  equ
000  005  $82a6
 11
 1
 1
002  006  finens
 22
 1
 3
021  007  l..str~
006  001  =
008  001  0
 23
 1
 3
016  012  tesdir..str%
006  001  =
008  001  0
 25
 1
 1
002  006  iniens
 27
 1
 4
001  004  ldhx
000  003  $0e
007  001  ,
001  002  sp
 29
 1
 4
001  003  lda
000  003  $02
007  001  ,
001  001  x
 30
 1
 2
001  003  sta
021  007  l..str~
 31
 1
 3
001  003  lda
007  001  ,
001  001  x
 32
 1
 2
001  003  sta
016  012  tesdir..str%
 33
 1
 4
001  003  lda
000  003  $01
007  001  ,
001  001  x
 34
 1
 4
001  003  sta
016  012  tesdir..str%
003  001  +
008  001  1
 36
 1
 1
002  006  finens
 39
 1
 3
016  010  mi..ascii%
006  001  =
008  001  0
 41
 1
 3
001  002  x1
006  001  =
012  002  ""
 43
 1
 1
002  006  iniens
 44
 1
 2
001  003  lda
021  007  l..str~
 45
 1
 2
001  003  beq
001  007  fuera..
 46
 1
 1
002  006  finens
 48
 1
 6
002  003  for
021  004  i..~
006  001  =
008  001  1
002  002  to
021  007  l..str~
 50
 1
 1
002  006  iniens
 51
 1
 2
001  004  ldhx
016  012  tesdir..str%
 52
 1
 3
001  003  lda
007  001  ,
001  001  x
 53
 1
 4
001  003  sta
016  010  mi..ascii%
003  001  +
008  001  1
 54
 1
 2
001  003  aix
000  004  #$01
 55
 1
 2
001  004  sthx
016  012  tesdir..str%
 56
 1
 1
002  006  finens
 59
 1
 8
001  002  x1
006  001  =
001  002  x1
003  001  +
018  004  chr$
007  001  (
016  010  mi..ascii%
007  001  )
 64
 1
 2
002  004  next
021  004  i..~
 65
 1
 1
017  008  fuera..:
 67
 1
 1
002  006  iniens
 68
 1
 4
001  004  ldhx
000  003  $10
007  001  ,
001  002  sp
 69
 1
 3
001  003  lda
007  001  ,
001  001  x
 70
 1
 2
001  003  sta
001  003  ren
 71
 1
 1
002  006  finens
 74
 1
 1
002  006  iniens
 75
 1
 4
001  004  ldhx
000  003  $12
007  001  ,
001  002  sp
 76
 1
 3
001  003  lda
007  001  ,
001  001  x
 77
 1
 2
001  003  sta
001  003  col
 78
 1
 1
002  006  finens
 94
 1
 5
002  002  if
001  002  x1
006  001  =
012  002  ""
002  004  then
 96
 1
 1
002  006  iniens
 97
 1
 2
001  003  jsr
001  006  inilcd
 98
 1
 1
002  006  finens
 99
 1
 2
002  004  goto
020  005  fuera
 100
 1
 1
002  005  endif
 102
 1
 9
002  002  if
001  003  ren
005  001  <
008  001  1
004  002  or
001  003  ren
005  001  >
008  001  2
002  004  then
 103
 1
 2
002  004  goto
020  005  fuera
 104
 1
 1
002  005  endif
 106
 1
 9
002  002  if
001  003  col
005  001  <
008  001  1
004  002  or
001  003  col
005  001  >
008  002  16
002  004  then
 107
 1
 2
002  004  goto
020  005  fuera
 108
 1
 1
002  005  endif
 110
 1
 5
002  002  if
001  003  ren
006  001  =
008  001  1
002  004  then
 111
 1
 5
021  008  posdesp~
006  001  =
001  003  col
003  001  -
008  003  129
 112
 1
 1
002  004  else
 113
 1
 5
021  008  posdesp~
006  001  =
001  003  col
003  001  -
008  002  65
 114
 1
 1
002  005  endif
 116
 1
 3
013  004  num$
006  001  =
001  002  x1
 117
 1
 2
002  005  gosub
020  007  despstr
 121
 1
 2
002  004  goto
020  005  fuera
 123
 1
 1
002  006  iniens
 152
 1
 3
001  007  contcar
001  003  equ
000  003  $80
 153
 1
 3
001  010  contgcgram
001  003  equ
000  003  $81
 154
 1
 3
001  007  contret
001  003  equ
000  003  $82
 157
 1
 3
001  008  ascamina
001  003  equ
000  003  $e1
 158
 1
 3
001  008  ascemina
001  003  equ
000  003  $e9
 159
 1
 3
001  008  ascimina
001  003  equ
000  003  $ed
 160
 1
 3
001  008  ascomina
001  003  equ
000  003  $f3
 161
 1
 3
001  008  ascumina
001  003  equ
000  003  $fa
 162
 1
 3
001  010  asceniemin
001  003  equ
000  003  $f1
 163
 1
 3
001  011  ascumindier
001  003  equ
000  003  $fc
 165
 1
 3
001  008  ascamaya
001  003  equ
000  003  $c1
 166
 1
 3
001  008  ascemaya
001  003  equ
000  003  $c9
 167
 1
 3
001  008  ascimaya
001  003  equ
000  003  $cd
 168
 1
 3
001  008  ascomaya
001  003  equ
000  003  $d3
 169
 1
 3
001  008  ascumaya
001  003  equ
000  003  $da
 170
 1
 3
001  010  asceniemay
001  003  equ
000  003  $d1
 171
 1
 3
001  011  ascumaydier
001  003  equ
000  003  $dc
 173
 1
 3
001  007  portlcd
001  003  equ
000  003  $04
 174
 1
 3
001  010  ddrportlcd
001  003  equ
000  003  $05
 176
 1
 2
017  007  inilcd:
001  004  psha
 177
 1
 2
001  003  lda
000  004  #$fc
 178
 1
 2
001  003  sta
001  010  ddrportlcd
 179
 1
 2
001  003  jsr
001  005  ret5m
 180
 1
 2
001  003  jsr
001  005  ret5m
 181
 1
 2
001  003  jsr
001  005  ret5m
 182
 1
 2
001  003  jsr
001  005  ret5m
 183
 1
 2
001  003  lda
000  004  #$30
 184
 1
 2
001  003  bsr
001  006  escom8
 185
 1
 2
001  003  jsr
001  005  ret5m
 186
 1
 2
001  003  bsr
001  006  escom8
 187
 1
 2
001  003  jsr
001  007  ret100m
 188
 1
 2
001  003  jsr
001  005  ret5m
 189
 1
 2
001  003  bsr
001  006  escom8
 191
 1
 2
001  003  lda
000  004  #$20
 192
 1
 2
001  003  bsr
001  006  escom8
 194
 1
 2
001  003  lda
000  004  #$28
 195
 1
 2
001  003  bsr
001  006  escom4
 196
 1
 2
001  003  lda
000  004  #$0c
 197
 1
 2
001  003  bsr
001  006  escom4
 198
 1
 2
001  003  lda
000  004  #$01
 199
 1
 2
001  003  bsr
001  006  escom4
 200
 1
 2
001  003  lda
000  004  #$06
 201
 1
 2
001  003  bsr
001  006  escom4
 203
 1
 2
001  003  jsr
001  011  cargagcgram
 206
 1
 1
001  004  pula
 207
 1
 1
001  003  rts
 210
 1
 2
017  007  escom8:
001  004  psha
 211
 1
 2
004  003  and
000  004  #$f0
 213
 1
 2
001  003  sta
001  007  portlcd
 214
 1
 4
001  004  bclr
008  001  2
007  001  ,
001  007  portlcd
 215
 1
 4
001  004  bset
008  001  3
007  001  ,
001  007  portlcd
 225
 1
 4
001  003  mov
000  004  #$23
007  001  ,
001  007  contret
 226
 1
 3
017  005  oppp:
001  003  bsr
001  006  ret500
 227
 1
 2
001  003  dec
001  007  contret
 228
 1
 2
001  003  bne
001  004  oppp
 234
 1
 4
001  004  bclr
008  001  3
007  001  ,
001  007  portlcd
 235
 1
 1
001  004  pula
 236
 1
 1
001  003  rts
 238
 1
 2
017  008  escdat8:
001  004  psha
 239
 1
 2
004  003  and
000  004  #$f0
 240
 1
 2
001  003  sta
001  007  portlcd
 241
 1
 4
001  004  bset
008  001  2
007  001  ,
001  007  portlcd
 242
 1
 4
001  004  bset
008  001  3
007  001  ,
001  007  portlcd
 253
 1
 4
001  003  mov
000  004  #$23
007  001  ,
001  007  contret
 254
 1
 3
017  006  oppp2:
001  003  bsr
001  006  ret500
 255
 1
 2
001  003  dec
001  007  contret
 256
 1
 2
001  003  bne
001  005  oppp2
 262
 1
 4
001  004  bclr
008  001  3
007  001  ,
001  007  portlcd
 263
 1
 4
001  004  bclr
008  001  2
007  001  ,
001  007  portlcd
 264
 1
 1
001  004  pula
 265
 1
 1
001  003  rts
 267
 1
 2
017  008  escdat4:
001  004  psha
 268
 1
 2
001  003  cmp
000  004  #$7f
 269
 1
 2
001  003  bls
001  005  sigg1
 270
 1
 3
017  009  asciiext:
001  003  bsr
001  010  prasciiext
 284
 1
 3
017  006  sigg1:
001  003  bsr
001  007  escdat8
 285
 1
 1
001  003  clc
 286
 1
 1
001  004  rola
 287
 1
 1
001  004  rola
 288
 1
 1
001  004  rola
 289
 1
 1
001  004  rola
 290
 1
 2
001  003  bsr
001  007  escdat8
 291
 1
 1
001  004  pula
 292
 1
 1
001  003  rts
 294
 1
 2
017  007  escom4:
001  004  psha
 295
 1
 2
001  003  bsr
001  006  escom8
 296
 1
 1
001  003  clc
 297
 1
 1
001  004  rola
 298
 1
 1
001  004  rola
 299
 1
 1
001  004  rola
 300
 1
 1
001  004  rola
 301
 1
 2
001  003  bsr
001  006  escom8
 302
 1
 1
001  004  pula
 303
 1
 1
001  003  rts
 308
 1
 2
017  008  ret100m:
001  004  pshx
 309
 1
 2
001  003  ldx
000  004  #$64
 310
 1
 3
017  010  otroret5m:
001  003  bsr
001  005  ret5m
 311
 1
 1
001  004  decx
 312
 1
 2
001  003  bne
001  009  otroret5m
 313
 1
 1
001  004  pulx
 314
 1
 1
001  003  rts
 318
 1
 2
017  006  ret5m:
001  004  pshx
 319
 1
 2
001  003  ldx
000  004  #$64
 320
 1
 3
017  011  otroret500:
001  003  bsr
001  006  ret500
 321
 1
 1
001  004  decx
 322
 1
 2
001  003  bne
001  010  otroret500
 323
 1
 1
001  004  pulx
 324
 1
 1
001  003  rts
 327
 1
 2
017  007  ret100:
001  004  pshx
 328
 1
 1
001  003  nop
 329
 1
 1
001  003  nop
 330
 1
 1
001  003  nop
 331
 1
 2
001  003  ldx
000  004  #$4c
 333
 1
 2
017  003  vv:
001  003  nop
 334
 1
 1
001  004  decx
 335
 1
 2
001  003  bne
001  002  vv
 336
 1
 1
001  004  pulx
 337
 1
 1
001  003  rts
 341
 1
 2
017  007  ret500:
001  004  pshx
 342
 1
 1
001  003  nop
 343
 1
 1
001  003  nop
 344
 1
 1
001  003  nop
 345
 1
 2
001  003  ldx
000  004  #$c4
 347
 1
 2
017  004  vv1:
001  003  nop
 348
 1
 1
001  004  decx
 349
 1
 2
001  003  bne
001  003  vv1
 350
 1
 1
001  004  pulx
 351
 1
 1
001  003  rts
 361
 1
 2
017  009  copiadis:
001  004  pshx
 362
 1
 1
001  004  pshh
 363
 1
 1
001  004  psha
 364
 1
 2
001  003  bsr
001  006  escom4
 365
 1
 2
001  003  lda
000  004  #$10
 366
 1
 2
001  003  sta
001  007  contcar
 367
 1
 4
017  005  otra:
001  003  lda
007  001  ,
001  001  x
 368
 1
 2
001  003  bsr
001  007  escdat4
 369
 1
 2
001  003  aix
000  004  #$01
 370
 1
 2
001  003  dec
001  007  contcar
 371
 1
 2
001  003  bne
001  004  otra
 372
 1
 1
001  004  pula
 373
 1
 1
001  004  pulh
 374
 1
 1
001  004  pulx
 375
 1
 1
001  003  rts
 378
 1
 2
017  012  cargagcgram:
001  004  psha
 379
 1
 1
001  004  pshh
 380
 1
 1
001  004  pshx
 382
 1
 2
001  003  lda
000  004  #$40
 383
 1
 2
001  003  jsr
001  006  escom4
 384
 1
 4
001  003  mov
000  004  #$40
007  001  ,
001  010  contgcgram
 385
 1
 2
001  004  ldhx
000  009  #aminacen
 387
 1
 4
017  010  otradircg:
001  003  lda
007  001  ,
001  001  x
 388
 1
 2
001  003  jsr
001  007  escdat4
 389
 1
 2
001  003  aix
000  004  #$01
 390
 1
 2
001  003  dec
001  010  contgcgram
 391
 1
 2
001  003  bne
001  009  otradircg
 393
 1
 1
001  004  pulx
 394
 1
 1
001  004  pulh
 395
 1
 1
001  004  pula
 396
 1
 1
001  003  rts
 398
 1
 3
017  011  prasciiext:
001  003  cmp
000  009  #ascamina
 399
 1
 2
001  003  beq
001  009  fuegamina
 401
 1
 2
001  003  cmp
000  009  #ascemina
 402
 1
 2
001  003  beq
001  009  fuegemina
 404
 1
 2
001  003  cmp
000  009  #ascimina
 405
 1
 2
001  003  beq
001  009  fuegimina
 407
 1
 2
001  003  cmp
000  009  #ascomina
 408
 1
 2
001  003  beq
001  009  fuegomina
 410
 1
 2
001  003  cmp
000  009  #ascumina
 411
 1
 2
001  003  beq
001  009  fuegumina
 413
 1
 2
001  003  cmp
000  011  #asceniemin
 414
 1
 2
001  003  beq
001  011  fuegeniemin
 416
 1
 2
001  003  cmp
000  012  #ascumindier
 417
 1
 2
001  003  beq
001  012  fuegumindier
 419
 1
 2
001  003  cmp
000  011  #asceniemay
 420
 1
 2
001  003  beq
001  011  fuegeniemay
 423
 1
 2
001  003  bra
001  014  salgprasciiext
 425
 1
 3
017  010  fuegamina:
001  003  lda
000  004  #$00
 426
 1
 2
001  003  bra
001  014  salgprasciiext
 427
 1
 3
017  010  fuegemina:
001  003  lda
000  004  #$01
 428
 1
 2
001  003  bra
001  014  salgprasciiext
 429
 1
 3
017  010  fuegimina:
001  003  lda
000  004  #$02
 430
 1
 2
001  003  bra
001  014  salgprasciiext
 431
 1
 3
017  010  fuegomina:
001  003  lda
000  004  #$03
 432
 1
 2
001  003  bra
001  014  salgprasciiext
 433
 1
 3
017  010  fuegumina:
001  003  lda
000  004  #$04
 434
 1
 2
001  003  bra
001  014  salgprasciiext
 435
 1
 3
017  012  fuegeniemin:
001  003  lda
000  004  #$05
 436
 1
 2
001  003  bra
001  014  salgprasciiext
 437
 1
 3
017  013  fuegumindier:
001  003  lda
000  004  #$06
 438
 1
 2
001  003  bra
001  014  salgprasciiext
 440
 1
 3
017  012  fuegeniemay:
001  003  lda
000  004  #$07
 442
 1
 2
017  015  salgprasciiext:
001  003  rts
 447
 1
 17
017  009  aminacen:
001  002  db
000  003  $02
007  001  ,
000  003  $04
007  001  ,
000  003  $0e
007  001  ,
000  003  $01
007  001  ,
000  003  $0f
007  001  ,
000  003  $11
007  001  ,
000  003  $0f
007  001  ,
000  003  $00
 448
 1
 17
017  009  eminacen:
001  002  db
000  003  $02
007  001  ,
000  003  $04
007  001  ,
000  003  $0e
007  001  ,
000  003  $11
007  001  ,
000  003  $1f
007  001  ,
000  003  $10
007  001  ,
000  003  $0e
007  001  ,
000  003  $00
 449
 1
 17
017  009  iminacen:
001  002  db
000  003  $02
007  001  ,
000  003  $04
007  001  ,
000  003  $00
007  001  ,
000  003  $0c
007  001  ,
000  003  $04
007  001  ,
000  003  $04
007  001  ,
000  003  $0e
007  001  ,
000  003  $00
 450
 1
 17
017  009  ominacen:
001  002  db
000  003  $02
007  001  ,
000  003  $04
007  001  ,
000  003  $0e
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $0e
007  001  ,
000  003  $00
 451
 1
 17
017  009  uminacen:
001  002  db
000  003  $02
007  001  ,
000  003  $04
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $13
007  001  ,
000  003  $0d
007  001  ,
000  003  $00
 452
 1
 17
017  008  eniemin:
001  002  db
000  003  $0e
007  001  ,
000  003  $00
007  001  ,
000  003  $16
007  001  ,
000  003  $19
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $00
 453
 1
 17
017  009  umindier:
001  002  db
000  003  $11
007  001  ,
000  003  $00
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $11
007  001  ,
000  003  $13
007  001  ,
000  003  $0d
007  001  ,
000  003  $00
 454
 1
 17
017  012  eniemayacen:
001  002  db
000  003  $0e
007  001  ,
000  003  $00
007  001  ,
000  003  $11
007  001  ,
000  003  $19
007  001  ,
000  003  $15
007  001  ,
000  003  $13
007  001  ,
000  003  $11
007  001  ,
000  003  $00
 465
 1
 1
002  006  finens
 476
 1
 1
017  008  despstr:
 478
 1
 6
021  005  lstr~
006  001  =
018  003  len
007  001  (
013  004  num$
007  001  )
 480
 1
 1
002  006  iniens
 482
 1
 2
001  003  lda
013  004  num$
 483
 1
 1
001  004  psha
 484
 1
 1
001  004  pulh
 485
 1
 4
001  003  ldx
013  004  num$
003  001  +
008  001  1
 486
 1
 2
001  003  lda
021  008  posdesp~
 487
 1
 2
001  003  jsr
001  006  escom4
 488
 1
 4
017  006  yuopp:
001  003  lda
007  001  ,
001  001  x
 489
 1
 2
001  003  jsr
001  007  escdat4
 490
 1
 2
001  003  aix
000  004  #$01
 491
 1
 2
001  003  lda
021  005  lstr~
 492
 1
 1
001  004  deca
 493
 1
 2
001  003  sta
021  005  lstr~
 494
 1
 2
001  003  bne
001  005  yuopp
 496
 1
 1
002  006  finens
 498
 1
 1
002  006  return
 500
 1
 1
017  006  fuera:
 507
 1
 1
002  006  iniens
 508
 1
 1
001  004  pulx
 509
 1
 1
001  004  pulh
 510
 1
 2
001  004  sthx
000  010  var#topmem
 511
 1
 1
001  004  pulx
 512
 1
 1
001  004  pulh
 513
 1
 2
001  004  sthx
000  014  var#dirultdesc
 514
 1
 1
001  004  pulx
 515
 1
 1
001  004  pulh
 516
 1
 2
001  004  sthx
000  013  var#dirinistr
 517
 1
 1
001  004  pulx
 518
 1
 1
001  004  pulh
 519
 1
 3
001  004  sthx
001  004  apun
003  001  *
 520
 1
 1
001  004  pula
 521
 1
 1
001  004  pulx
 522
 1
 1
001  004  pulh
 523
 1
 1
001  003  rts
 524
 1
 1
002  006  finens
***** Fin de archivo de tokens  E:\ejemplos_sbas8_2020-1\printlcd16x2sh_cps.tok  *****
***** procesado el  29/10/2019 06:23:18 p. m.  *****
